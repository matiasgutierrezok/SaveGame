@mixin theme($carousel-btn: DarkBtn) {
  position: absolute;
  color: black;
  background-color: $text-color-high;
  @media (pointer: fine){
    &:hover{
      background-color: $text-color-medium;
    }
  }
}

.carousel-container {
  position: relative;
  margin: 0 clamp(19px, 5vw, 30px);
  border-radius: 12px;
  .main {
    width: 100%;
    height: clamp(211px, 48vw, 286px);
    border-radius: 12px;
    overflow-x: scroll;
    overflow-y: hidden;
    scrollbar-width: none;
    &::-webkit-scrollbar{
      display: none;
    }
    .game-container {
      height: 100%;
      white-space: nowrap;
      user-select: none;
      transition: transform 0.3s;
      cursor: grab;
      .game {
        display: inline-flex;
        background: $bright1;
        width: 100%;
        height: 100%;
        margin-right: -50%;
        position: relative;
        transition: clip-path 1s;
        clip-path: polygon(50% 0%, 100% 0%, 50% 100%, 0% 100%);
        @media (pointer: fine){
          &:hover{
            img{
              filter: gray;
              -webkit-filter: grayscale(1);
            }
            #btn{
              display: block;
            }
          }
        }
        img{
          width: 100%;
          height: 100%;
          transition: filter 300ms;
        }
        #btn{
          display: none;
          position: absolute;
          top: calc(50% - 20px);
          left: calc(50% - 50px);
          background-color: $redbrand;
          color: $text-color-high;
          font-family: $text-font-medium;
        }
        .divider{
          position: absolute;
          background-color: $redbrand;
          width: 100%;
          height: 100%;
          transition: clip-path 1s;
          clip-path: polygon(50% 0%, 51% 0%, 1% 100%, 0% 100%);
        }
        #exit{
          transition: opacity 300ms;
          opacity: 0;
          pointer-events: none;
          @include theme($carousel-btn: DarkBtn);
          right: 16px;
          top: 16px;
        }
      }
      .first-item{
        clip-path: polygon(0% 0%, 75% 0%, 25% 100%, 0% 100%);
        .divider{display: none;}
        #btn{
          top: calc(30% - 20px);
        }
      }
      .second-item{
        clip-path: polygon(75% 0%, 100% 0%, 100% 100%, 25% 100%);
        #btn{
          top: calc(70% - 20px);
        }
        .divider{
          display: unset;
          clip-path: polygon(75% 0%, 76% 0%, 26% 100%, 25% 100%);
        }
        margin-left: -50%;
      }
      .expand-element{
        clip-path: polygon(-1% 0, 150% 0, 100% 100%, -51% 100%);
        &:hover{
          img{filter: none;}
          #btn{display: none;}
        }
        .divider{clip-path: polygon(-1% 0, 0 0, -50% 100%, -51% 100%);}
        #exit{
          opacity: 1;
          pointer-events: all;
        }
      }
      .retract-next-element{
        clip-path: polygon(100% 0, 100% 0, 50% 100%, 50% 100%);
      }
      .two-items-retract{
        clip-path: polygon(150% 0, 101% 0, 101% 100%, 101% 100%);
      }
      .only-one-game{
        transition: unset;
        clip-path: unset;
        &:hover{
          img{filter: none;}
          #btn{display: none;}
        }
      }
    }
    .active {
      cursor: grabbing;
      cursor: -webkit-grabbing;
    }
  }
  .buttons{
    position: absolute;
    top: calc(50% - 20px);
    width: 100%;
    #prev{
      @include theme($carousel-btn: DarkBtn);
      left: 16px;
    }
    #next{
      @include theme($carousel-btn: DarkBtn);
      right: 16px;
    }
  }
}

@media screen and (min-width:600px) {
  .carousel-container{
    margin: 0 clamp(30px, 7vw, 60px);
  }
}
@media screen and (min-width:900px) {
  .carousel-container{
    margin: 0 clamp(60px, 8vw, 140px);
    .main{
      height: clamp(286px, 32vw, 467px);
    }
  }
}